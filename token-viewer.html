<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stingray Design Tokens</title>
    <!-- Load Google Fonts for testing -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Montserrat:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Roboto:wght@100;300;400;500;700;900&family=Source+Sans+Pro:wght@200;300;400;600;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="dist/primitives.css?v=1" />
    <link rel="stylesheet" href="dist/semantic.css?v=1" />
    <style>
      body {
        font-family: var(--typography-font-family-base);
        margin: 0;
        padding: 2rem;
        background: #fafafa;
        color: #333;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1,
      h2,
      h3 {
        margin-top: 3rem;
        margin-bottom: 1.5rem;
      }

      h1 {
        color: var(--color-stingray-500);
        border-bottom: 3px solid var(--color-stingray-500);
        padding-bottom: 1rem;
      }

      h2 {
        color: var(--color-gray-800);
        border-bottom: 1px solid var(--color-gray-300);
        padding-bottom: 0.5rem;
      }

      .section {
        background: white;
        border-radius: 8px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .token-grid {
        display: grid;
        gap: 1rem;
        margin-top: 1rem;
      }

      .color-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }

      .typography-grid {
        grid-template-columns: 1fr;
      }

      .color-swatch {
        display: flex;
        align-items: center;
        padding: 1rem;
        border-radius: 6px;
        border: 1px solid var(--color-gray-200);
        background: white;
      }

      .color-preview {
        width: 48px;
        height: 48px;
        border-radius: 4px;
        margin-right: 1rem;
        border: 1px solid var(--color-gray-300);
        flex-shrink: 0;
      }

      .color-info {
        flex: 1;
      }

      .color-name {
        font-weight: var(--typography-font-weight-medium);
        font-size: var(--typography-font-size-base);
        margin-bottom: 0.25rem;
      }

      .color-value {
        font-family: "Monaco", "Menlo", monospace;
        font-size: var(--typography-font-size-sm);
        color: var(--color-gray-600);
      }

      .text-sample {
        padding: 1.5rem;
        border: 1px solid var(--color-gray-200);
        border-radius: 6px;
        margin-bottom: 1rem;
        background: white;
      }

      .text-label {
        font-size: var(--typography-font-size-sm);
        color: var(--color-gray-600);
        margin-bottom: 0.5rem;
        font-family: "Monaco", "Menlo", monospace;
      }

      .code {
        font-family: "Monaco", "Menlo", monospace;
        background: var(--color-gray-100);
        padding: 0.25rem 0.5rem;
        border-radius: 3px;
        font-size: var(--typography-font-size-sm);
      }

      .font-test-section {
        background: var(--color-gray-050);
        padding: 2rem;
        border-radius: 8px;
        margin-top: 2rem;
      }

      .font-selector {
        margin-bottom: 2rem;
      }

      select {
        font-size: var(--typography-font-size-md);
        padding: 0.5rem;
        border: 1px solid var(--color-gray-300);
        border-radius: 4px;
        margin-left: 0.5rem;
      }

      .flex-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üé® Stingray Design Tokens</h1>
      <p>
        Visual reference for all design tokens in the Stingray design system.
      </p>

      <!-- Font Testing Section -->
      <div class="font-test-section">
        <h2>üî§ Font Family Testing</h2>
        <p>
          Test different fonts by changing the base font family. All text styles
          will update automatically!
        </p>

        <div class="font-selector">
          <label for="fontSelect">
            <strong>Select Font Family:</strong>
            <select id="fontSelect" onchange="changeFont(this.value)">
              <option value="Roboto, system-ui, -apple-system, sans-serif">
                Roboto (Default)
              </option>
              <option value="Inter, system-ui, sans-serif">Inter</option>
              <option value="Poppins, system-ui, sans-serif">Poppins</option>
              <option value="Montserrat, system-ui, sans-serif">
                Montserrat
              </option>
              <option value="Source Sans Pro, system-ui, sans-serif">
                Source Sans Pro
              </option>
              <option value="system-ui, sans-serif">System Default</option>
            </select>
          </label>
          <div
            id="fontStatus"
            style="
              margin-top: 0.5rem;
              font-size: 0.875rem;
              color: var(--color-gray-600);
            "
          ></div>
        </div>

        <div class="text-sample">
          <div class="text-label">
            Live Preview - All styles update when you change the font above:
          </div>
          <div
            style="
              font-family: var(--text-h3-font-family);
              font-size: var(--text-h3-font-size);
              font-weight: var(--text-h3-font-weight);
              line-height: var(--text-h3-line-height);
              margin-bottom: 1rem;
            "
          >
            This is a Heading 3 Sample
          </div>
          <div
            style="
              font-family: var(--text-body1-font-family);
              font-size: var(--text-body1-font-size);
              font-weight: var(--text-body1-font-weight);
              line-height: var(--text-body1-line-height);
            "
          >
            This is body text that demonstrates how the font family change
            affects all text styles in the system. The beauty of design tokens
            is this kind of flexibility!
          </div>
        </div>
      </div>

      <!-- Color Tokens -->
      <div class="section">
        <h2>üé® Color Tokens</h2>

        <h3>Gray Scale</h3>
        <div class="token-grid color-grid" id="grayColors"></div>

        <h3>Stingray Brand Colors</h3>
        <div class="token-grid color-grid" id="stingrayColors"></div>

        <h3>Semantic Colors</h3>
        <div class="token-grid color-grid" id="semanticColors"></div>

        <h3>Alpha Colors</h3>
        <div class="token-grid color-grid" id="alphaColors"></div>
      </div>

      <!-- Typography Tokens -->
      <div class="section">
        <h2>üî§ Typography Tokens</h2>

        <h3>Headings (h1-h10)</h3>
        <div class="token-grid typography-grid" id="headings"></div>

        <h3>Body Text</h3>
        <div class="token-grid typography-grid" id="bodyText"></div>

        <h3>Subtitles</h3>
        <div class="token-grid typography-grid" id="subtitles"></div>

        <h3>Button Text</h3>
        <div class="token-grid typography-grid" id="buttonText"></div>

        <h3>Utility Text</h3>
        <div class="token-grid typography-grid" id="utilityText"></div>
      </div>

      <!-- Typography Primitives -->
      <div class="section">
        <h2>‚öôÔ∏è Typography Primitives</h2>
        <p>Foundation tokens that power the semantic text styles above.</p>

        <h3>Font Sizes</h3>
        <div class="token-grid typography-grid" id="fontSizes"></div>

        <h3>Font Weights</h3>
        <div class="token-grid typography-grid" id="fontWeights"></div>
      </div>
    </div>

    <script>
      // Color definitions
      const colorTokens = {
        gray: [
          { name: "gray-050", value: "#FAFAFA" },
          { name: "gray-100", value: "#E8E8E8" },
          { name: "gray-200", value: "#C4C4C4" },
          { name: "gray-300", value: "#ACACAC" },
          { name: "gray-400", value: "#939393" },
          { name: "gray-500", value: "#7A7A7A" },
          { name: "gray-600", value: "#626262" },
          { name: "gray-700", value: "#4A4A4A" },
          { name: "gray-800", value: "#313131" },
          { name: "gray-900", value: "#191919" },
          { name: "gray-950", value: "#0C0C0C" },
        ],
        stingray: [
          { name: "stingray-050", value: "#D0E5F9" },
          { name: "stingray-100", value: "#B1D3F5" },
          { name: "stingray-200", value: "#7DB6EF" },
          { name: "stingray-300", value: "#5CA4EB" },
          { name: "stingray-400", value: "#338DE6" },
          { name: "stingray-500", value: "#0070E0" },
          { name: "stingray-600", value: "#005AB3" },
          { name: "stingray-700", value: "#00488F" },
          { name: "stingray-800", value: "#003A72" },
          { name: "stingray-900", value: "#002344" },
          { name: "stingray-950", value: "#001529" },
        ],
        semantic: [
          { name: "red-500", value: "#EC1A2B", label: "Error/Danger" },
          { name: "green-500", value: "#3AAE4D", label: "Success" },
          { name: "blue-500", value: "#41AAE2", label: "Info" },
          { name: "yellow-500", value: "#EFEA36", label: "Warning" },
          { name: "black", value: "#000000", label: "Pure Black" },
          { name: "white", value: "#FFFFFF", label: "Pure White" },
        ],
        alpha: [
          { name: "white-alpha-050", value: "rgba(255, 255, 255, 0.05)" },
          { name: "white-alpha-100", value: "rgba(255, 255, 255, 0.10)" },
          { name: "white-alpha-300", value: "rgba(255, 255, 255, 0.30)" },
          { name: "white-alpha-500", value: "rgba(255, 255, 255, 0.50)" },
          { name: "white-alpha-700", value: "rgba(255, 255, 255, 0.70)" },
          { name: "white-alpha-800", value: "rgba(255, 255, 255, 0.80)" },
          { name: "white-alpha-900", value: "rgba(255, 255, 255, 0.90)" },
          { name: "black-alpha-950", value: "rgba(25, 25, 25, 0.95)" },
        ],
      };

      // Typography definitions
      const textStyles = {
        headings: [
          { name: "h1", token: "text-h1", sample: "Heading 1", size: "96px" },
          { name: "h2", token: "text-h2", sample: "Heading 2", size: "76px" },
          { name: "h3", token: "text-h3", sample: "Heading 3", size: "60px" },
          { name: "h4", token: "text-h4", sample: "Heading 4", size: "54px" },
          { name: "h5", token: "text-h5", sample: "Heading 5", size: "48px" },
          { name: "h6", token: "text-h6", sample: "Heading 6", size: "40px" },
          { name: "h7", token: "text-h7", sample: "Heading 7", size: "34px" },
          { name: "h8", token: "text-h8", sample: "Heading 8", size: "28px" },
          { name: "h9", token: "text-h9", sample: "Heading 9", size: "24px" },
          {
            name: "h10",
            token: "text-h10",
            sample: "Heading 10",
            size: "22px",
          },
        ],
        body: [
          {
            name: "body1",
            token: "text-body1",
            sample: "Primary body text for main content",
            size: "16px",
          },
          {
            name: "body2",
            token: "text-body2",
            sample: "Secondary body text for supporting content",
            size: "14px",
          },
        ],
        subtitles: [
          {
            name: "subtitle1",
            token: "text-subtitle1",
            sample: "Subtitle 1 for section headers",
            size: "20px",
          },
          {
            name: "subtitle2",
            token: "text-subtitle2",
            sample: "Subtitle 2 for subsection headers",
            size: "18px",
          },
        ],
        buttons: [
          {
            name: "button-sm",
            token: "text-button-sm",
            sample: "Small Button",
            size: "16px",
          },
          {
            name: "button-md",
            token: "text-button-md",
            sample: "Medium Button",
            size: "24px",
          },
          {
            name: "button-lg",
            token: "text-button-lg",
            sample: "Large Button",
            size: "28px",
          },
        ],
        utility: [
          {
            name: "caption",
            token: "text-caption",
            sample: "Caption text for images and small notes",
            size: "12px",
          },
          {
            name: "overline",
            token: "text-overline",
            sample: "OVERLINE TEXT",
            size: "10px",
          },
          {
            name: "navLabel",
            token: "text-nav-label",
            sample: "Nav Label",
            size: "10px",
          },
        ],
      };

      const primitiveTokens = {
        fontSizes: [
          { name: "xs", size: "10px", rem: "0.625rem" },
          { name: "sm", size: "12px", rem: "0.75rem" },
          { name: "base", size: "14px", rem: "0.875rem" },
          { name: "md", size: "16px", rem: "1rem" },
          { name: "lg", size: "18px", rem: "1.125rem" },
          { name: "xl", size: "20px", rem: "1.25rem" },
          { name: "2xl", size: "22px", rem: "1.375rem" },
          { name: "3xl", size: "24px", rem: "1.5rem" },
          { name: "4xl", size: "28px", rem: "1.75rem" },
          { name: "5xl", size: "34px", rem: "2.125rem" },
          { name: "6xl", size: "40px", rem: "2.5rem" },
          { name: "7xl", size: "48px", rem: "3rem" },
          { name: "8xl", size: "54px", rem: "3.375rem" },
          { name: "9xl", size: "60px", rem: "3.75rem" },
          { name: "10xl", size: "76px", rem: "4.75rem" },
          { name: "11xl", size: "96px", rem: "6rem" },
        ],
        fontWeights: [
          { name: "thin", weight: "100" },
          { name: "extraLight", weight: "200" },
          { name: "light", weight: "300" },
          { name: "regular", weight: "400" },
          { name: "medium", weight: "500" },
          { name: "semiBold", weight: "600" },
          { name: "bold", weight: "700" },
          { name: "extraBold", weight: "800" },
          { name: "black", weight: "900" },
        ],
      };

      // Render colors
      function renderColors(container, colors) {
        const element = document.getElementById(container);
        element.innerHTML = colors
          .map(
            (color) => `
                <div class="color-swatch">
                    <div class="color-preview" style="background: var(--color-${
                      color.name
                    })"></div>
                    <div class="color-info">
                        <div class="color-name">--color-${color.name}</div>
                        <div class="color-value">${color.value} ${
              color.label ? `‚Ä¢ ${color.label}` : ""
            }</div>
                    </div>
                </div>
            `
          )
          .join("");
      }

      // Render text styles
      function renderTextStyles(container, styles) {
        const element = document.getElementById(container);
        element.innerHTML = styles
          .map(
            (style) => `
                <div class="text-sample">
                    <div class="text-label">--${style.token}-* (${
              style.size
            })</div>
                    <div style="
                        font-family: var(--${style.token}-font-family);
                        font-size: var(--${style.token}-font-size);
                        font-weight: var(--${style.token}-font-weight);
                        line-height: var(--${style.token}-line-height);
                        ${
                          style.token === "text-overline"
                            ? "text-transform: var(--text-overline-text-case);"
                            : ""
                        }
                    ">
                        ${style.sample}
                    </div>
                </div>
            `
          )
          .join("");
      }

      // Render font sizes
      function renderFontSizes() {
        const element = document.getElementById("fontSizes");
        element.innerHTML = primitiveTokens.fontSizes
          .map(
            (size) => `
                <div class="text-sample">
                    <div class="text-label">--typography-font-size-${size.name} (${size.size} / ${size.rem})</div>
                    <div style="font-size: var(--typography-font-size-${size.name});">
                        Sample text at ${size.name} size
                    </div>
                </div>
            `
          )
          .join("");
      }

      // Check if a font weight is actually available
      function isFontWeightAvailable(weight) {
        const currentFont = getComputedStyle(document.documentElement)
          .getPropertyValue("--typography-font-family-base")
          .trim();

        console.log(`Current font family: "${currentFont}"`);

        // Get the first font in the stack (the actual intended font)
        const primaryFont = currentFont
          .split(",")[0]
          .trim()
          .replace(/['"]/g, "");

        console.log(`Primary font: "${primaryFont}"`);

        // For system fonts only, limit to basic weights
        if (
          primaryFont === "system-ui" ||
          primaryFont === "sans-serif" ||
          currentFont === "system-ui, sans-serif"
        ) {
          console.log("Detected as system font - limiting to 400/700");
          return weight === "400" || weight === "700"; // Only regular and bold
        }

        // For Google Fonts, we know which weights we loaded
        // Check based on known available weights for each font
        const fontWeightMap = {
          Roboto: ["100", "300", "400", "500", "700", "900"],
          Inter: [
            "100",
            "200",
            "300",
            "400",
            "500",
            "600",
            "700",
            "800",
            "900",
          ],
          Montserrat: [
            "100",
            "200",
            "300",
            "400",
            "500",
            "600",
            "700",
            "800",
            "900",
          ],
          Poppins: [
            "100",
            "200",
            "300",
            "400",
            "500",
            "600",
            "700",
            "800",
            "900",
          ],
          "Source Sans Pro": ["200", "300", "400", "600", "700", "900"],
        };

        const availableWeights = fontWeightMap[primaryFont];

        if (availableWeights) {
          console.log(
            `Using predefined weights for ${primaryFont}:`,
            availableWeights
          );
          return availableWeights.includes(weight);
        }

        // Fallback: test by checking computed weight
        console.log(`Testing weight ${weight} by measuring...`);

        const testElement = document.createElement("span");
        testElement.style.fontFamily = currentFont;
        testElement.style.fontSize = "48px";
        testElement.style.fontWeight = weight;
        testElement.textContent = "Test Weight";
        testElement.style.position = "absolute";
        testElement.style.visibility = "hidden";
        testElement.style.left = "-9999px";

        document.body.appendChild(testElement);
        const computedWeight = getComputedStyle(testElement).fontWeight;
        document.body.removeChild(testElement);

        // Check if the computed weight matches what we requested
        const numericWeight = parseInt(weight);
        const computedNumericWeight = parseInt(computedWeight);

        console.log(`Requested: ${weight}, Computed: ${computedWeight}`);

        return Math.abs(computedNumericWeight - numericWeight) <= 50;
      }

      // Render font weights
      function renderFontWeights() {
        const element = document.getElementById("fontWeights");

        console.log("Checking font weights for current font...");

        // Check availability for all weights and create unified list
        const allWeights = primitiveTokens.fontWeights.map((weight) => {
          const isAvailable = isFontWeightAvailable(weight.weight);
          console.log(
            `Weight ${weight.weight} (${weight.name}): ${
              isAvailable ? "AVAILABLE" : "NOT AVAILABLE"
            }`
          );
          return {
            ...weight,
            isAvailable,
          };
        });

        // Sort by numeric weight value
        allWeights.sort((a, b) => parseInt(a.weight) - parseInt(b.weight));

        // Render all weights in order with color-coded labels
        const html = allWeights
          .map((weight) => {
            const labelColor = weight.isAvailable
              ? "var(--color-green-500)"
              : "var(--color-red-500)";

            const sampleOpacity = weight.isAvailable ? "1" : "0.6";
            const sampleBackground = weight.isAvailable
              ? "white"
              : "var(--color-gray-050)";

            return `
               <div class="text-sample" style="opacity: ${sampleOpacity}; background-color: ${sampleBackground};">
                   <div class="text-label" style="color: ${labelColor};">
                       --typography-font-weight-${weight.name} (${weight.weight})
                   </div>
                   <div style="font-weight: var(--typography-font-weight-${weight.name}); font-size: var(--typography-font-size-lg);">
                       Sample text with ${weight.name} weight
                   </div>
               </div>
           `;
          })
          .join("");

        element.innerHTML = html;
      }

      // Font family changer
      function changeFont(fontFamily) {
        console.log("Changing font to:", fontFamily);
        document.documentElement.style.setProperty(
          "--typography-font-family-base",
          fontFamily
        );
        console.log(
          "Font changed. Current value:",
          getComputedStyle(document.documentElement).getPropertyValue(
            "--typography-font-family-base"
          )
        );

        // Update status
        const status = document.getElementById("fontStatus");
        const fontName = fontFamily.split(",")[0].trim().replace(/"/g, "");
        status.textContent = `‚úì Font changed to: ${fontName}`;

        // Check if font is actually loading
        if (fontName !== "system-ui" && fontName !== "Roboto") {
          status.textContent += " (Loading from Google Fonts...)";
        }

        // Re-render font weights to show availability for new font
        setTimeout(() => {
          renderFontWeights();
          status.textContent = `‚úì Font changed to: ${fontName} - Weights updated`;
        }, 100); // Small delay to ensure font is loaded
      }

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        // Test if CSS variables are loaded
        const baseFontFamily = getComputedStyle(
          document.documentElement
        ).getPropertyValue("--typography-font-family-base");
        const h1FontFamily = getComputedStyle(
          document.documentElement
        ).getPropertyValue("--text-h1-font-family");

        console.log("Base font family:", baseFontFamily);
        console.log("H1 font family:", h1FontFamily);

        if (!baseFontFamily.trim()) {
          console.error("CSS tokens not loaded properly!");
        }

        // Render all colors
        renderColors("grayColors", colorTokens.gray);
        renderColors("stingrayColors", colorTokens.stingray);
        renderColors("semanticColors", colorTokens.semantic);
        renderColors("alphaColors", colorTokens.alpha);

        // Render all text styles
        renderTextStyles("headings", textStyles.headings);
        renderTextStyles("bodyText", textStyles.body);
        renderTextStyles("subtitles", textStyles.subtitles);
        renderTextStyles("buttonText", textStyles.buttons);
        renderTextStyles("utilityText", textStyles.utility);

        // Render primitives
        renderFontSizes();
        renderFontWeights();
      });
    </script>
  </body>
</html>
